{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"preact\"","webpack:///../node_modules/preact-habitat/src/lib.js","webpack:///../node_modules/preact-habitat/src/index.js","webpack:///./searcher.tsx","webpack:///./style.css?8d14","webpack:///./component.tsx","webpack:///./index.ts"],"names":["camelcasize","str","replace","all","letter","toUpperCase","getExecutedScript","document","currentScript","scripts","getElementsByTagName","length","collectPropsFromElement","element","defaultProps","attrs","attributes","props","_extends","Object","keys","forEach","key","hasOwnProperty","dataAttrName","name","propName","split","pop","propValue","nodeValue","call","scrp","propsObj","hasAttribute","getAttribute","JSON","parse","innerHTML","e","Error","getHabitatSelectorFromClient","scriptTagAttrs","selector","widgetDOMHostElements","ref","inline","clientSpecified","hostNodes","parentNode","push","querySelectorAll","queriedTag","preactRender","widget","hostElements","root","cleanRoot","elm","hostNode","_habitat","render","h","habitat","Widget","render$$1","elements","loaded","elements$1","clean","addEventListener","Searcher","_Component","_this","_classCallCheck","_len","arguments","args","Array","_key","_callSuper","concat","_defineProperty","value","console","log","currentTarget","_inherits","_createClass","state","type","onInput","onClick","Component","App"],"mappings":"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","file":"ssr-bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"qVkA\");\n","module.exports = require(\"preact\");","import { h, render } from \"preact\";\n/**\n * Removes `-` fron a string and capetalize the letter after\n * example: data-props-hello-world =>  dataPropsHelloWorld\n * Used for props passed from host DOM element\n * @param  {String} str string\n * @return {String} Capetalized string\n */\nconst camelcasize = str => {\n  return str.replace(/-([a-z])/gi, (all, letter) => {\n    return letter.toUpperCase();\n  });\n};\n\n/**\n * [getExecutedScript internal widget to provide the currently executed script]\n * @param  {document} document [Browser document object]\n * @return {HTMLElement}     [script Element]\n */\nconst getExecutedScript = () => {\n  return (\n    document.currentScript ||\n    (() => {\n      let scripts = document.getElementsByTagName(\"script\");\n      return scripts[scripts.length - 1];\n    })()\n  );\n};\n\n/**\n * Get the props from a host element's data attributes\n * @param  {Element} tag The host element\n * @return {Object}  props object to be passed to the component\n */\nconst collectPropsFromElement = (element, defaultProps = {}) => {\n  let attrs = element.attributes;\n\n  let props = Object.assign({}, defaultProps);\n\n  // collect from element\n  Object.keys(attrs).forEach(key => {\n    if (attrs.hasOwnProperty(key)) {\n      let dataAttrName = attrs[key].name;\n      if (!dataAttrName || typeof dataAttrName !== \"string\") {\n        return false;\n      }\n      let propName = dataAttrName.split(/(data-props?-)/).pop() || '';\n      propName = camelcasize(propName);\n      if (dataAttrName !== propName) {\n        let propValue = attrs[key].nodeValue;\n        props[propName] = propValue;\n      }\n    }\n  });\n\n  // check for child script text/props or application/json\n  [].forEach.call(element.getElementsByTagName('script'), scrp => {\n    let propsObj = {}\n    if(scrp.hasAttribute('type')) {\n      if (\n        scrp.getAttribute(\"type\") !== \"text/props\" &&\n        scrp.getAttribute(\"type\") !== \"application/json\"\n      )\n        return;\n      try {\n        propsObj = JSON.parse(scrp.innerHTML);\n      } catch(e) {\n        throw new Error(e)\n      }\n      Object.assign(props, propsObj)\n    }\n  });  \n\n  return props;\n};\n\nconst getHabitatSelectorFromClient = (currentScript) => {\n  let scriptTagAttrs = currentScript.attributes;\n  let selector = null;\n  // check for another props attached to the tag\n  Object.keys(scriptTagAttrs).forEach(key => {\n    if (scriptTagAttrs.hasOwnProperty(key)) {\n      const dataAttrName = scriptTagAttrs[key].name;\n      if (dataAttrName === 'data-mount-in') {\n        selector = scriptTagAttrs[key].nodeValue;\n      }\n    }\n  });\n  return selector\n}\n\n/**\n * Return array of 0 or more elements that will host our widget\n * @param  {id} attrId the data widget id attribute the host should have\n * @param  {document} scope  Docuemnt object or DOM Element as a scope\n * @return {Array}        Array of matching habitats\n */\nconst widgetDOMHostElements = (\n  { selector, inline, clientSpecified}\n) => {\n  let hostNodes = [];\n  let currentScript = getExecutedScript();\n\n  if (inline === true) {\n    let parentNode = currentScript.parentNode;\n    hostNodes.push(parentNode);\n  }\n  if (clientSpecified === true && !selector) {\n    // user did not specify where to mount - get it from script tag attributes\n    selector = getHabitatSelectorFromClient(currentScript);\n  }\n  if (selector) {\n    [].forEach.call(document.querySelectorAll(selector), queriedTag => {\n      hostNodes.push(queriedTag);\n    });\n  }\n  return hostNodes;\n};\n\n/**\n * preact render function that will be queued if the DOM is not ready\n * and executed immeidatly if DOM is ready\n */\nconst preactRender = (widget, hostElements, root, cleanRoot, defaultProps) => {\n  hostElements.forEach(elm => {\n    let hostNode = elm;\n    if (hostNode._habitat) {\n      return; \n    }\n    hostNode._habitat = true;\n    let props = collectPropsFromElement(elm, defaultProps) || defaultProps;\n    if(cleanRoot) {\n      hostNode.innerHTML = \"\";\n    }\n    return render(h(widget, props), hostNode, root);\n  });\n};\n\nexport {\n  collectPropsFromElement,\n  widgetDOMHostElements,\n  getExecutedScript,\n  camelcasize,\n  preactRender,\n  getHabitatSelectorFromClient\n};\n","import { widgetDOMHostElements, preactRender } from \"./lib\";\n\nconst habitat = Widget => {\n  // Widget represents the Preact component we need to mount\n  let widget = Widget;\n  // preact root render helper\n  let root = null;\n\n  let render = (\n    {\n      selector = null,\n      inline = false,\n      clean = false,\n      clientSpecified = false,\n      defaultProps = {}\n    } = {}\n  ) => {\n    let elements = widgetDOMHostElements({\n      selector,\n      inline,\n      clientSpecified\n    });\n    let loaded = () => {\n      if (elements.length > 0) {\n        let elements = widgetDOMHostElements({\n          selector,\n          inline,\n          clientSpecified\n        });\n\n        return preactRender(widget, elements, root, clean, defaultProps);\n      }\n    };\n    loaded();\n    document.addEventListener(\"DOMContentLoaded\", loaded);\n    document.addEventListener(\"load\", loaded);\n  };\n\n  return { render };\n};\n\nexport default habitat;\n","import { Component, h } from 'preact';\nexport class Searcher extends Component {\n    state={value:''}\n\n    onClick= e=> {\n        console.log(\"hola\");\n    }\n\n    onInput= e=> {\n        console.log(e.currentTarget.value);\n    }\n\n    render(props,state) {\n        return(\n            <div>\n            <input type=\"text\" onInput={this.onInput} />\n            <button type=\"button\" onClick={this.onClick}>Click</button>\n            </div>\n        );    \n    }\n}","// extracted by mini-css-extract-plugin\nexport {};","import { h, VNode } from 'preact';\nimport {Searcher} from './searcher';\nimport './style.css';\n\ninterface Props {\n    color?: string;\n}\n\nexport default function App(props: Props): VNode {\n    return (\n        <div>\n            <Searcher />\n        </div>\n    );\n}\n","import habitat from 'preact-habitat';\n\nimport Widget from './component';\n\nconst _habitat = habitat(Widget);\n\n_habitat.render({\n  selector: '[data-widget-host=\"habitat\"]',\n  clean: true\n});\n"],"sourceRoot":""}